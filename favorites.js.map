{"version":3,"file":"favorites.js","sources":["../src/js/favorites.js"],"sourcesContent":["import { getQuote, getExerciseById } from './api.js';\n\n// Функція для відображення цитати дня\nasync function displayQuote() {\n  try {\n    const response = await getQuote();\n    if (response) {\n      document.querySelector('.quote-text').textContent = response.quote || '';\n      document.querySelector('.quote-author').textContent =\n        response.author || '';\n    } else {\n      console.log('Failed to load quote of the day.');\n    }\n  } catch (error) {\n    console.error('Error fetching quote of the day:', error);\n  }\n}\n\n// Функція для отримання масиву ID обраних вправ із localStorage\nfunction getFavoriteExerciseIds() {\n  return JSON.parse(localStorage.getItem('favoriteExercises')) || [];\n}\n\n// Функція для видалення вправи з обраного\nfunction removeFavoriteExercise(id) {\n  const updatedFavorites = getFavoriteExerciseIds().filter(\n    favId => favId !== id\n  );\n  localStorage.setItem('favoriteExercises', JSON.stringify(updatedFavorites));\n  displayFavoriteExercises(); // Оновлення списку\n}\n\n// Функція для відображення обраних вправ\nasync function displayFavoriteExercises() {\n  const exerciseContainer = document.querySelector('.favorites-list');\n  const favoriteIds = getFavoriteExerciseIds();\n  exerciseContainer.innerHTML = favoriteIds.length\n    ? (await Promise.all(favoriteIds.map(id => getExerciseById(id))))\n        .map(createExerciseCardHtml)\n        .join('')\n    : `<li class=\"empty-favorites\">It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</li>`;\n}\n\n// Функція для створення HTML для кожної картки вправи\nfunction createExerciseCardHtml(exercise) {\n  return `\n    <li class=\"exercises_item\" id=\"${exercise._id}\">\n      <div class=\"exercise-card-header\">\n        <div class=\"card-workout\">\n          <div class=\"card-workout-logo card-text-logo\">Workout</div>\n          <div class=\"workout-logo-addon\">${getLogoSvg(exercise._id)}</div>\n        </div>\n        <div class=\"card-start\">\n          <div class=\"card-start-name usual-text\">Start</div>\n          <div class=\"card-start-arrow\">${svg.arrow}</div>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"card-body-logo\">${svg.runner}</div>\n        <div class=\"card-body-name card-text-name\">${capitalize(\n          exercise.name\n        )}</div>\n      </div>\n      <div class=\"card-footer\">\n        ${createExerciseInfo(\n          'Burned calories',\n          `${exercise.burnedCalories || 0} / ${exercise.time || 0} min`\n        )}\n        ${createExerciseInfo(\n          'Category',\n          capitalize(exercise.categoryName || '')\n        )}\n        ${createExerciseInfo('Target', capitalize(exercise.target || ''))}\n      </div>\n    </li>\n  `;\n}\n\n// Функція для спрощення створення інформаційного блоку\nfunction createExerciseInfo(label, value) {\n  return `\n    <div class=\"card-info card-text-info\">\n      <span class=\"info-item-name\">${label}: </span>\n      <span class=\"long-text\">${value}</span>\n    </div>\n  `;\n}\n\n// Функція для генерації SVG з параметром id\nfunction getLogoSvg(id) {\n  return svg.recycleBin.replace('CARD_ID', id);\n}\n\n// Функція для зміни стилів text\nfunction capitalize(text) {\n  return text ? text.charAt(0).toUpperCase() + text.slice(1) : '';\n}\n\n// Додатковий SVG контент\nconst svg = {\n  recycleBin: `\n    <svg class=\"card-icon recycle-bin\" data-id=\"CARD_ID\" width=\"16\" height=\"16\">\n        <use href=\"./img/icons.svg#icon-remove\"></use>\n    </svg>`,\n  arrow: `\n    <svg class=\"card-icon\" width=\"16\" height=\"16\">\n        <use href=\"./img/icons.svg#icon-arrow\"></use>\n    </svg>`,\n  runner: `\n    <svg class=\"card-icon\" width=\"24\" height=\"24\">\n        <use href=\"./img/icons.svg#icon-running-stick\"></use>\n    </svg>`,\n};\n\n// Подія для видалення обраної вправи по кліку на значок видалення\ndocument.addEventListener('click', event => {\n  const target = event.target.closest('.recycle-bin');\n  if (target) {\n    const exerciseId = target.getAttribute('data-id');\n    removeFavoriteExercise(exerciseId);\n  }\n});\n\n// Ініціалізація сторінки\ndocument.addEventListener('DOMContentLoaded', () => {\n  displayQuote();\n  displayFavoriteExercises();\n});\n"],"names":["displayQuote","response","getQuote","error","getFavoriteExerciseIds","removeFavoriteExercise","id","updatedFavorites","favId","displayFavoriteExercises","exerciseContainer","favoriteIds","getExerciseById","createExerciseCardHtml","exercise","getLogoSvg","svg","capitalize","createExerciseInfo","label","value","text","event","target","exerciseId"],"mappings":"yFAGA,eAAeA,GAAe,CAC5B,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAU,EAC7BD,GACF,SAAS,cAAc,aAAa,EAAE,YAAcA,EAAS,OAAS,GACtE,SAAS,cAAc,eAAe,EAAE,YACtCA,EAAS,QAAU,IAErB,QAAQ,IAAI,kCAAkC,CAEjD,OAAQE,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CAC3D,CACA,CAGA,SAASC,GAAyB,CAChC,OAAO,KAAK,MAAM,aAAa,QAAQ,mBAAmB,CAAC,GAAK,CAAE,CACpE,CAGA,SAASC,EAAuBC,EAAI,CAClC,MAAMC,EAAmBH,EAAsB,EAAG,OAChDI,GAASA,IAAUF,CACpB,EACD,aAAa,QAAQ,oBAAqB,KAAK,UAAUC,CAAgB,CAAC,EAC1EE,GACF,CAGA,eAAeA,GAA2B,CACxC,MAAMC,EAAoB,SAAS,cAAc,iBAAiB,EAC5DC,EAAcP,EAAwB,EAC5CM,EAAkB,UAAYC,EAAY,QACrC,MAAM,QAAQ,IAAIA,EAAY,IAAIL,GAAMM,EAAgBN,CAAE,CAAC,CAAC,GAC1D,IAAIO,CAAsB,EAC1B,KAAK,EAAE,EACV,gNACN,CAGA,SAASA,EAAuBC,EAAU,CACxC,MAAO;AAAA,qCAC4BA,EAAS,GAAG;AAAA;AAAA;AAAA;AAAA,4CAILC,EAAWD,EAAS,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA,0CAI1BE,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAI,MAAM;AAAA,qDACKC,EAC3CH,EAAS,IACnB,CAAS;AAAA;AAAA;AAAA,UAGCI,EACA,kBACA,GAAGJ,EAAS,gBAAkB,CAAC,MAAMA,EAAS,MAAQ,CAAC,MACxD,CAAA;AAAA,UACCI,EACA,WACAD,EAAWH,EAAS,cAAgB,EAAE,CACvC,CAAA;AAAA,UACCI,EAAmB,SAAUD,EAAWH,EAAS,QAAU,EAAE,CAAC,CAAC;AAAA;AAAA;AAAA,GAIzE,CAGA,SAASI,EAAmBC,EAAOC,EAAO,CACxC,MAAO;AAAA;AAAA,qCAE4BD,CAAK;AAAA,gCACVC,CAAK;AAAA;AAAA,GAGrC,CAGA,SAASL,EAAWT,EAAI,CACtB,OAAOU,EAAI,WAAW,QAAQ,UAAWV,CAAE,CAC7C,CAGA,SAASW,EAAWI,EAAM,CACxB,OAAOA,EAAOA,EAAK,OAAO,CAAC,EAAE,YAAa,EAAGA,EAAK,MAAM,CAAC,EAAI,EAC/D,CAGA,MAAML,EAAM,CACV,WAAY;AAAA;AAAA;AAAA,YAIZ,MAAO;AAAA;AAAA;AAAA,YAIP,OAAQ;AAAA;AAAA;AAAA,WAIV,EAGA,SAAS,iBAAiB,QAASM,GAAS,CAC1C,MAAMC,EAASD,EAAM,OAAO,QAAQ,cAAc,EAClD,GAAIC,EAAQ,CACV,MAAMC,EAAaD,EAAO,aAAa,SAAS,EAChDlB,EAAuBmB,CAAU,CACrC,CACA,CAAC,EAGD,SAAS,iBAAiB,mBAAoB,IAAM,CAClDxB,EAAc,EACdS,EAA0B,CAC5B,CAAC"}