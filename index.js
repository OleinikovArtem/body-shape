import{A as x,i as T,a as Z,b as G,d as K}from"./assets/favorites-bbhvW5q9.js";import{i as S}from"./assets/vendor-BT7OT44q.js";const X=new x,_=document.querySelector(".js-list"),$=document.getElementById("pagination-numbers");let m=1;N("Muscles",m);async function N(e,n){try{const{results:t,totalPages:s}=await X.getFilter(e,n);te({results:t,totalPages:s}),Y(t)}catch(t){console.log(t)}}function Y(e){if(!_)return;if(_.innerHTML="",e.length===0){_.insertAdjacentHTML("beforeend",'<p class="filters__empty">No exercises found</p>');return}const n=e.map(({filter:t,name:s,imgURL:a})=>`
  <li class="filters__item">
    <img class="filters__img-first" src="${a}"></img>
    <div class="filters__wrapper-first">
    <h2 class="filters__title-first">${ee(s)}</h2>
    <p class="filters__text-first">${t}</p>
    </div>
  </li>
    `).join("");_.insertAdjacentHTML("beforeend",n)}document.querySelectorAll(".btnFilters").forEach(e=>{e.addEventListener("click",()=>{const n=e.innerText;_.innerHTML="",m=1,N(n,m)})});function ee(e){function n(a){return a.charAt(0).toUpperCase()+a.slice(1)}return e.split(" ").map(n).join(" ")}function te({results:e,totalPages:n}){if(!$||($.innerHTML="",n<=1))return;const t=e[0].filter;for(let s=1;s<=n;s++){const a=document.createElement("button");a.className="pagination-button",a.textContent=s,$.appendChild(a),a.addEventListener("click",()=>{ne(t,s)})}V(m)}async function ne(e,n){m=n,await N(e,m),V(m),I()}const V=e=>{document.querySelectorAll(".pagination-button").forEach((n,t)=>{n.classList.remove("active-btn"),t+1===e&&n.classList.add("active-btn"),I()})};function I(){window.scrollTo({top:830,behavior:"auto"})}const b=document.querySelector(".modal-exercises"),f=document.querySelector(".modal-rating"),q=document.querySelector(".rating-close-btn"),w=document.querySelector(".form__btn"),h=document.querySelector(".rating__value"),g=document.querySelector(".rating-email"),v=document.querySelector(".rating-comment");b==null||b.addEventListener("click",ie);q==null||q.addEventListener("click",C);f==null||f.addEventListener("click",se);document.addEventListener("keydown",ae);function ie(e){e.target.closest(".modal-exercises__btn-rating")&&(f.classList.remove("is-hidden"),b.classList.add("hidden"))}function C(){f.classList.add("is-hidden"),b.classList.remove("hidden")}function se(e){e.target===f&&C()}function ae(e){e.key==="Escape"&&C()}const M=document.querySelectorAll(".rating");M.length>0&&ce();function L(e,n,t){const s=parseFloat(t)*20;e.style.width=`${s}%`,n.innerHTML=parseFloat(t).toFixed(1)}function ce(){let e,n,t;for(let i=0;i<M.length;i++){const c=M[i];s(c)}function s(i){a(i),L(e,n,t),i.classList.contains("rating_set")&&d(i)}function a(i){e=i.querySelector(".rating__active"),n=i.querySelector(".rating__value"),t=parseFloat(n.innerHTML)}function d(i){const c=i.querySelectorAll(".rating__item");for(let o=0;o<c.length;o++){const u=c[o];u.addEventListener("mouseenter",function(){a(i),L(e,n,(o+1).toFixed(1))}),u.addEventListener("mouseleave",function(){L(e,n,t)}),u.addEventListener("click",function(){a(i);const F=(o+1).toFixed(1);F!=="0.0"&&(t=F,i.dataset.ajax?setRatingValue(t,i):(n.innerHTML=t,L(e,n,t)),y())})}}}function R(){const e=g.value.trim(),n=v.value.trim(),t=h.innerHTML.trim();return e!==""&&n!==""&&t!=="0.0"}function y(){w.disabled=!R()}g==null||g.addEventListener("input",y);v==null||v.addEventListener("input",y);const re=new MutationObserver(y);h&&re.observe(h,{childList:!0,subtree:!0});function oe(){g.value="",v.value="",h.innerHTML="0.0",setTimeout(()=>{const e=document.querySelector(".rating__active");L(e,h,"0.0"),y()},0)}w==null||w.addEventListener("click",e=>{if(e.preventDefault(),!R()){console.warn("Форма не валідна. Будь ласка, заповніть всі поля та оберіть оцінку.");return}const n=h.innerHTML,t=g.value,s=v.value;console.log("Поточне значення рейтингу:",n),console.log("Введений email:",t),console.log("Введений коментар:",s),C(),oe()});const j="/body-shape/assets/paging-icons-OZN1c3n6.svg",z=new x,E=document.querySelector(".js-list"),l=document.getElementById("pagination-numbers"),D=document.querySelector(".search__form"),O=document.querySelector(".exercises__span"),A=document.querySelector(".exercises__text");let r=1;E==null||E.addEventListener("click",le);async function le(e){if(!e.target.closest(".filters__item"))return;D.classList.remove("hidden");const n=e.target.closest(".filters__item");let t=n.lastElementChild.children[0].innerText.toLowerCase().replace(/\s/g,"");const s=n.lastElementChild.children[1].innerText.toLowerCase().replace(/\s/g,"%20");t==="bodyparts"&&(t="bodypart");const a={filter:t,name:s};localStorage.setItem("paramSearch",JSON.stringify(a));try{const{results:d,totalPages:i}=await z.getExercises(t,s,r);W({filter:t,name:s,totalPages:i}),H(d),P(d)}catch(d){console.log(d)}}function P(e){A.innerText=`${e[0].bodyPart}`,A.classList.remove("hidden"),O.classList.remove("hidden")}function H(e){E.innerHTML="";const n=e==null?void 0:e.map(({_id:t,rating:s,name:a,burnedCalories:d,bodyPart:i,target:c})=>`
      <li class="filters__item-card">
        <div class="card__wrap">
          <div class="card__block-btn">
              <p class="card__badge">Workout</p>
              <span class="card__rating">
                <span>${s}</span>
                <svg class="card__rating-star" width="18" height="18">
                  <use href="${T}#icon-star"></use>
                </svg>
              </span>
              <button class="card__btn" data-id="${t}" type="button">Start
                <svg class="card__btn-arrow" width="16" height="16">
                  <use href="${T}#icon-arrow-menu-mobile"></use>
                </svg>
              </button>
            </div>
              <div class="card__wrap-title">
              <div class="card__title-svg-btn">
                <svg class="card__title-svg" width="24" height="24">
                  <use href="${T}#icon-running-man"></use>
                </svg>
                </div>
                <h2 class="card__title">${a}</h2>
              </div>
              <div class="card__block-info">
                <p class="card__text-info"><span>Burned calories:</span>${d}</p>
                <p class="card__text-info"><span>Body part:</span>${i}</p>
                <p class="card__text-info"><span>Target:</span>${c}</p>
              </div>
        </div>
      </li>`).join("");E.insertAdjacentHTML("beforeend",n)}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".exercises__btn");e.forEach(n=>{n.addEventListener("click",()=>{e.forEach(t=>t.classList.remove("active")),n.classList.add("active"),D.classList.add("hidden"),A.classList.add("hidden"),O.classList.add("hidden")})})});async function p(e,n,t){r=t;try{const{results:s,totalPages:a}=await z.getExercises(e,n,r);W({filter:e,name:n,totalPages:a}),H(s),P(s)}catch(s){console.log(s)}J(),de()}function W({filter:e,name:n,totalPages:t}){if(l.innerHTML="",!(t<=1)){if(t>5){["first","prev"].forEach(i=>{const c=document.createElement("button");r!==1&&(c.classList.add("active-btn"),c.addEventListener("click",()=>{i==="first"?p(e,n,1):i==="prev"&&p(e,n,r-1)})),c.insertAdjacentHTML("beforeend",`<svg class="pagination-icon" width="24" height="24">
                  <use href="${j}#icon-page-${i}"></use>
                </svg>`),l.appendChild(c)});const a=document.createElement("button");if(a.className="pagination-button-dots",a.insertAdjacentHTML("beforeend","<p>...</p>"),r===1){for(let i=1;i<=3;i++){const c=document.createElement("button");c.className="pagination-button",c.textContent=i,l.appendChild(c),c.addEventListener("click",()=>{p(e,n,i)})}l.appendChild(a)}else if(r===t){l.appendChild(a);for(let i=t-2;i<=t;i++){const c=document.createElement("button");c.className="pagination-button",c.textContent=i,l.appendChild(c),c.addEventListener("click",()=>{p(e,n,i)})}}else{l.appendChild(a);const i=r>3?r-2:1,c=r<t-2?r+2:t;for(let o=i;o<=c;o++){const u=document.createElement("button");u.className="pagination-button",u.textContent=o,l.appendChild(u),u.addEventListener("click",()=>{p(e,n,o)})}l.appendChild(a.cloneNode(!0))}["next","last"].forEach(i=>{const c=document.createElement("button");r!==t&&(c.classList.add("active-btn"),c.addEventListener("click",()=>{i==="last"?p(e,n,t):i==="next"&&p(e,n,r+1)})),c.insertAdjacentHTML("beforeend",`<svg class="pagination-icon" width="24" height="24">
                  <use href="${j}#icon-page-${i}"></use>
                </svg>`),l.appendChild(c)})}else for(let s=1;s<=t;s++){const a=document.createElement("button");a.className="pagination-button",a.textContent=s,l.appendChild(a),a.addEventListener("click",()=>{p(e,n,s)})}J()}}const J=()=>{document.querySelectorAll(".pagination-button").forEach(e=>{e.classList.remove("active-btn"),Number(e.textContent)===r&&e.classList.add("active-btn")})};function de(){window.scrollTo({top:830,behavior:"auto"})}document.addEventListener("DOMContentLoaded",()=>{Z(),G(),K()});const ue=new x,pe=document.getElementById("send-button"),k=document.getElementById("email");window.addEventListener("load",e=>{pe.addEventListener("click",B),k.addEventListener("keydown",function(n){n.key==="Enter"&&B()})});async function B(e){e.preventDefault(),e.stopPropagation();const n=k.value;if(!k.checkValidity()){S.error({title:"Error",message:"Please enter a valid email address."});return}ue.postSubscriptions(n).then(t=>{t.status===201?(S.success({title:"Success",message:t.data.message}),k.value=""):S.error({title:"Error",message:t.data.message})}).catch(t=>{S.error({title:"Error",message:t.response.data.message})})}const me=new x,fe=document.querySelector(".search__button"),Q=document.querySelector(".search__input");fe.addEventListener("click",function(e){e.preventDefault(),U()});Q.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),U())});async function U(e){const{filter:n,name:t}=JSON.parse(localStorage.getItem("paramSearch")),s=Q.value.trim();if(s!=="")try{const a=await me.getSearch(n,t,s);H(a.results)}catch(a){console.log(a)}}
//# sourceMappingURL=index.js.map
