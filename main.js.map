{"version":3,"file":"main.js","sources":["../src/js/api.js","../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\n\nconst url = {\n  BASE_URL: 'https://your-energy.b.goit.study/api',\n  EXERCISES: '/exercises',\n  FILTERS: '/filters',\n  QUOTE: '/quote',\n  SUBSCRIPTION: '/subscription',\n  RATING: '/rating',\n};\n\n// Вправа за категорією\nfunction getExercisesByCategory(page = 1, limit = 12, filter = 'Muscles') {\n  const params = { filter, page, limit };\n  const fullUrl = getUrl(url.FILTERS, getParameters(params));\n\n  return requestGET(fullUrl);\n}\n\n// Вправа за ключовим словом\nfunction getExercisesByKeyword(\n  page = 1,\n  limit = 12,\n  category,\n  categoryName,\n  keyword\n) {\n  const params = {\n    page,\n    limit,\n  };\n  params[category] = categoryName;\n  if (keyword) {\n    params['keyword'] = keyword;\n  }\n  const fullUrl = getUrl(url.EXERCISES, getParameters(params));\n\n  return requestGET(fullUrl);\n}\n\n// Цитата\nfunction getQuote() {\n  return requestGET(getUrl(url.QUOTE));\n}\n\n// Інфо про вправу по ID\nfunction getExerciseById(id) {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}`;\n\n  return requestGET(fullUrl);\n}\n\n// Підписка POST\nasync function subscribe(email) {\n  const fullUrl = getUrl(url.SUBSCRIPTION);\n  const requestBody = { email };\n\n  return requestPOST(fullUrl, requestBody);\n}\n\n// Рейтинг вправи PATCH\nfunction rateExercise(id, rate = 0, email = '', review = '') {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}${url.RATING}`;\n  const requestBody = { rate, email, review };\n  return requestPATCH(fullUrl, requestBody);\n}\n\n// GET axios\nasync function requestGET(url) {\n  return axios\n    .get(url)\n    .then(result => result.data)\n    .catch(err => err.response);\n}\n\n// POST axios\nasync function requestPOST(url, body) {\n  return axios\n    .post(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\n// PATCH axios\nasync function requestPATCH(url, body) {\n  return axios\n    .patch(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\n// Форматування параметрів\nfunction getParameters(parameters) {\n  const params = new URLSearchParams(parameters);\n  return params;\n}\n\n// URL\nfunction getUrl(endpoint, params) {\n  return url.BASE_URL + endpoint + (params ? `?${params}` : '');\n}\n\nexport {\n  getExercisesByCategory,\n  getExercisesByKeyword,\n  getQuote,\n  getExerciseById,\n  subscribe,\n  rateExercise,\n};\n","import { subscribe } from './api.js'; // Adjust the path as necessary\n\nconst sendBtn = document.getElementById('send-button');\nconst emailInput = document.getElementById('email');\n\nsendBtn.addEventListener('click', submitForm);\n\nemailInput.addEventListener('keydown', function (event) {\n  if (event.key === 'Enter') {\n    submitForm(); // Call the submitForm function if Enter key is pressed\n  }\n});\n\nfunction submitForm() {\n  const email = emailInput.value;\n\n  if (!emailInput.checkValidity()) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a valid email address.',\n    });\n    return;\n  }\n\n  const subscriptionData = { email };\n\n  subscribe(email)\n    .then(response => {\n      // Handle the response based on the status code\n      if (response.status === 201) {\n        iziToast.success({\n          title: 'Success',\n          message: response.data.message, // Show the success message\n        });\n        emailInput.value = ''; // Clear input\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: response.data.message, // Show the error message for other status codes\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Network error. Please try again later.', // Display error message for network issues\n      });\n    });\n}\n"],"names":["url","subscribe","email","fullUrl","getUrl","requestPOST","body","axios","result","err","endpoint","params","sendBtn","emailInput","submitForm","event","response","error"],"mappings":"kFAEA,MAAMA,EAAM,CACV,SAAU,uCACV,UAAW,aACX,QAAS,WACT,MAAO,SACP,aAAc,gBACd,OAAQ,SACV,EA4CA,eAAeC,EAAUC,EAAO,CAC9B,MAAMC,EAAUC,EAAOJ,EAAI,YAAY,EAGvC,OAAOK,EAAYF,EAFC,CAAE,MAAAD,CAAO,CAEU,CACzC,CAkBA,eAAeG,EAAYL,EAAKM,EAAM,CACpC,OAAOC,EACJ,KAAKP,EAAKM,CAAI,EACd,KAAKE,GAAUA,CAAM,EACrB,MAAMC,GAAOA,EAAI,QAAQ,CAC9B,CAiBA,SAASL,EAAOM,EAAUC,EAAQ,CAChC,OAAOX,EAAI,SAAWU,EAAoC,EAC5D,CClGA,MAAME,EAAU,SAAS,eAAe,aAAa,EAC/CC,EAAa,SAAS,eAAe,OAAO,EAElDD,EAAQ,iBAAiB,QAASE,CAAU,EAE5CD,EAAW,iBAAiB,UAAW,SAAUE,EAAO,CAClDA,EAAM,MAAQ,SAChBD,GAEJ,CAAC,EAED,SAASA,GAAa,CACpB,MAAMZ,EAAQW,EAAW,MAEzB,GAAI,CAACA,EAAW,gBAAiB,CAC/B,SAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACf,CAAK,EACD,MACJ,CAIEZ,EAAUC,CAAK,EACZ,KAAKc,GAAY,CAEZA,EAAS,SAAW,KACtB,SAAS,QAAQ,CACf,MAAO,UACP,QAASA,EAAS,KAAK,OACjC,CAAS,EACDH,EAAW,MAAQ,IAEnB,SAAS,MAAM,CACb,MAAO,QACP,QAASG,EAAS,KAAK,OACjC,CAAS,CAEJ,CAAA,EACA,MAAMC,GAAS,CACd,SAAS,MAAM,CACb,MAAO,QACP,QAAS,wCACjB,CAAO,CACP,CAAK,CACL"}